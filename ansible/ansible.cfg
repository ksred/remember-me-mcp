[defaults]
# Roles path
roles_path = roles

# Host key checking
host_key_checking = False

# Retry files
retry_files_enabled = False

# Stdout callback
stdout_callback = default

# Inventory
inventory = inventory/production

# Remote user
remote_user = ubuntu

# Privilege escalation
become = True
become_method = sudo
become_user = root

# SSH args - Added ServerAliveInterval to prevent connection drops
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=120 -o TCPKeepAlive=yes

# Pipelining
pipelining = True

# Task execution timeout
task_timeout = 300

# Command timeout for long-running operations
command_timeout = 60

# Fact caching
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_fact_cache
fact_caching_timeout = 86400

# Parallelism
forks = 10

# Timeout
timeout = 30

[ssh_connection]
control_path = /tmp/ansible-%%h-%%p-%%r
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=120 -o TCPKeepAlive=yes
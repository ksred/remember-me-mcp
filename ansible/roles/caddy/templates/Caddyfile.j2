# Caddy configuration for Remember Me MCP
# Generated by Ansible

{
    email {{ vault_caddy_email }}
    
    # Production settings
    {% if deploy_environment == "production" %}
    acme_ca https://acme-v02.api.letsencrypt.org/directory
    {% else %}
    # Staging uses Let's Encrypt staging environment
    acme_ca https://acme-staging-v02.api.letsencrypt.org/directory
    {% endif %}
    
    log {
        output file /var/log/caddy/access.log
        format json
        level INFO
    }
}

# Import site configurations
import /etc/caddy/sites/*